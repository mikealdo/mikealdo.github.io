<!DOCTYPE html>
<html>
  <head>
    <title>Long build time complicates doing proper code review</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    
    <link rel="apple-touch-icon" sizes="57x57" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="60x60" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="72x72" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="76x76" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="114x114" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="120x120" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="144x144" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="152x152" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="180x180" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-32x32.png?v=wAAv6Wqe6l?v=1.0.0" sizes="32x32">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-194x194.png?v=wAAv6Wqe6l?v=1.0.0" sizes="194x194">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-96x96.png?v=wAAv6Wqe6l?v=1.0.0" sizes="96x96">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l?v=1.0.0" sizes="192x192">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-16x16.png?v=wAAv6Wqe6l?v=1.0.0" sizes="16x16">
    <link rel="manifest" href="//mikealdo.github.io/themes/uno-zen/assets/img/manifest.json?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="shortcut icon" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon.ico?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="msapplication-TileColor" content="#e74c3c">
    <meta name="msapplication-TileImage" content="//mikealdo.github.io/themes/uno-zen/assets/img/mstile-144x144.png?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="msapplication-config" content="//mikealdo.github.io/themes/uno-zen/assets/img/browserconfig.xml?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="theme-color" content="#e74c3c">
    <link rel="stylesheet" type="text/css" href="//mikealdo.github.io/themes/uno-zen/assets/css/uno-zen.css?v=1.0.0" />
    <link rel="canonical" href="https://mikealdo.github.io/2017/03/20/Long-build-time-complicates-doing-proper-code-review-and-what-to-do-with-it.html" />
    
    <meta property="og:site_name" content="Michal Davídek - blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Long build time complicates doing proper code review" />
    <meta property="og:description" content="Doing proper and useful code reviews in a conventional manner has many obstacles. As I wrote in one blog post, using incapable source control management system can be one of them. Recently I realized that quality of code review is..." />
    <meta property="og:url" content="https://mikealdo.github.io/2017/03/20/Long-build-time-complicates-doing-proper-code-review-and-what-to-do-with-it.html" />
    <meta property="og:image" content="https://mikealdo.github.io/images//covers/long-build-time-complicates-doing-proper-code-review.jpg" />
    <meta property="article:published_time" content="2017-03-19T23:00:00.000Z" />
    <meta property="article:modified_time" content="2017-03-22T06:25:01.242Z" />
    <meta property="article:tag" content="code review" />
    <meta property="article:tag" content="effectivity" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Long build time complicates doing proper code review" />
    <meta name="twitter:description" content="Doing proper and useful code reviews in a conventional manner has many obstacles. As I wrote in one blog post, using incapable source control management system can be one of them. Recently I realized that quality of code review is..." />
    <meta name="twitter:url" content="https://mikealdo.github.io/2017/03/20/Long-build-time-complicates-doing-proper-code-review-and-what-to-do-with-it.html" />
    <meta name="twitter:image:src" content="https://mikealdo.github.io/images//covers/long-build-time-complicates-doing-proper-code-review.jpg" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Michal Davídek - blog",
    "author": {
        "@type": "Person",
        "name": "Michal Davídek",
        "image": "https://avatars1.githubusercontent.com/u/14245058?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Long build time complicates doing proper code review",
    "url": "https://mikealdo.github.io/2017/03/20/Long-build-time-complicates-doing-proper-code-review-and-what-to-do-with-it.html",
    "datePublished": "2017-03-19T23:00:00.000Z",
    "dateModified": "2017-03-22T06:25:01.242Z",
    "image": "https://mikealdo.github.io/images//covers/long-build-time-complicates-doing-proper-code-review.jpg",
    "keywords": "code review,  effectivity",
    "description": "Doing proper and useful code reviews in a conventional manner has many obstacles. As I wrote in one blog post, using incapable source control management system can be one of them. Recently I realized that quality of code review is..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Michal Davídek - blog" href="https://mikealdo.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
  </head>
  <body class="post-template tag-code-review tag-effectivity">
    <header id="menu-button" class="expanded">
      <a><i class="icon icon-list"></i></a>
    </header>
    <aside class="cover" style="background: url(/images/background-cover.jpg) center/cover no-repeat fixed">
      <div class="cover container">
        <div class="profile">
          <a id="avatar-link" title="link to homepage for Michal Davídek - blog" href="https://mikealdo.github.io/#open">
            <img src="/images/michal-davidek.png" alt="Michal Davídek - blog avatar" class="profile avatar rounded hvr-buzz-out" />
            <h1 id="profile-title">Michal Davídek - blog</h1>
            <h3 id="profile-resume"></h3>
          </a>
    
          <hr class="divider long" />
          <p>Architecture, coding, open source.</p>
          <hr class="divider short" />
          <div class="navigation">
            <div class="profile contact">
              
              <nav class="navigation right">
                <ul class="social expanded">
              
              
                  <!-- Twitter -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://twitter.com/mikealdo007" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
                  <!-- Google Plus -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://plus.google.com/+MichalDavidekCZ" title="Google+ account">
                      <i class='icon icon-social-google-plus'></i>
                      <span class="label">Google-plus</span>
                    </a>
                  </li>
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://github.com/mikealdo" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
                  <!-- LinkedIn -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://www.linkedin.com/in/davidekmichal" title="LinkedIn account">
                      <i class='icon icon-social-linkedin'></i>
                      <span class="label">LinkedIn</span>
                    </a>
                  </li>
              
                  <!-- Email -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="mailto:mdavidek1@gmail.com" title="Email mdavidek1@gmail.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
                    <!-- RSS -->
                    <li class="social item hvr-grow-rotate">
                        <a href="/rss" title="Subscribe to RSS">
                            <i class='icon icon-rss'></i>
                            <span class="label">RSS</span>
                        </a>
                    </li>
                </ul>
              </nav>
              <!-- <section class="icon icon-search" id="search-container">
      <hr class="divider short" />
      <form id="search-form">
        <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
      </form>
    </section>
     -->
            </div>
          </div>
        </div>
      </div>
    </aside>
    <main>
      <section id="search-results"></section>
      <section class="content">
        

  <article class="post tag-code-review tag-effectivity">
    <header>
      <div class="post meta">
        <time datetime="20 Mar 2017">20 Mar 2017</time>
        <span class="post tags">in <a href="https://mikealdo.github.io/tag/code-review">code review</a> <a href="https://mikealdo.github.io/tag/effectivity"> effectivity</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>
      <a alt="Tweet 'Long build time complicates doing proper code review'" href="https://twitter.com/intent/tweet?text=Long%20build%20time%20complicates%20doing%20proper%20code%20review%20%C2%BB&amp;hashtags=code review, effectivity&amp;url=https://mikealdo.github.io/2017/03/20/Long-build-time-complicates-doing-proper-code-review-and-what-to-do-with-it.html">
        <img id="post-image" src=https://mikealdo.github.io/images//covers/long-build-time-complicates-doing-proper-code-review.jpg alt="Long build time complicates doing proper code review">
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Long build time complicates doing proper code review</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-code-review tag-effectivity">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Doing proper and useful code reviews in a conventional manner has many obstacles. As <a href="https://mikealdo.github.io/2016/02/10/S-V-N-prevent-doing-proper-code-reviews.html">I wrote in one blog post</a>, using incapable source control management system can be one of them. Recently I realized that quality of code review is influenced with a metric which has nothing to do with code reviews itself. It’s a <strong>build time which taking ages.</strong></p>
</div>
<div class="paragraph">
<p>The build time not only matters for the continuous delivery or development experience. It directly influences the quality of code reviews. And it’s especially emerging when you are trying to adopt continuous delivery (deployment) and using pull (merge) request builds for proving that the code being integrated into delivery artifact is correct.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_here_is_my_list_of_undeniable_facts_which_are_emerging_from_long_term_builds">Here is my list of undeniable facts which are emerging from long-term builds:</h3>
<div class="ulist">
<ul>
<li>
<p>Postponed changes.</p>
<div class="ulist">
<ul>
<li>
<p>The workflow of the code review should stay the same - writing code, reviewing it, applying changes. When you are in even the minor pressure, you are going to deliver something as faster as you can. At these times, the code rarely doesn’t contain any arguably part. But you need to deliver something, and the build takes 30 minutes. So what is going to happen? You will make a pressure to code reviewer to do changes after your code is integrated as is with the promise that all the suggested changes you will make afterward. Well, I agree that the code review is often not the most important thing you have to do, but this behavior can (and inevitably will) lead to more bugs and problems than you might expect. In applying changes suggested by the code reviewer you can explore some bug or design flaw which can be tough and costly to fix/improve in a later stage.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Postponed tests.</p>
<div class="ulist">
<ul>
<li>
<p>Yes, due to the fact, that build takes some time, we are in the temptation to delay some important test cases just because you need to deliver something. These tests are rarely added after the code is merged into the main codebase.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Need to switching contexts</p>
<div class="ulist">
<ul>
<li>
<p>When something takes ages we need to change context often and move to another useful work. This lead to two things - we can quickly forget that something is already built and we are introducing the possibility of raising bugs just due to switching branches and code itself.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bigger change lists.</p>
<div class="ulist">
<ul>
<li>
<p>Longer build time can lead to more significant changes and commit less frequently. This less frequency of commits can result in merging problems and maybe an issue for the code review itself as the optimal LOC for proper code review is about 200-400. If it’s more than code reviewer can oversee something easier.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Randomly failing tests.</p>
<div class="ulist">
<ul>
<li>
<p>Have your suite any randomly failing tests? This might be a nightmare if the build you are waiting for will fail due to this kind of the test and the only solution is to build it again without any change.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_what_you_can_do_about_your_build_time">What you can do about your build time?</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Measure what takes the biggest time. And then act.</p>
<div class="ulist">
<ul>
<li>
<p>for example use —profile parameter when building software with Gradle to gain a very useful statistics about timing when building for example.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Splitting up the tests by the groups - <strong>fail fast</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Nobody wants to wait for a full build just to realize that one single unit test failed. So splitting the test suite to the groups and executing them to fail fast will prevent waiting for the full builds with creation all artifacts, uploading them anywhere or running end to end tests even for the software which doesn’t pass the unit test phase.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Parallelization of the tests.</p>
<div class="ulist">
<ul>
<li>
<p>Nothing is as important as having the ability to run the tests in parallel. We are living in the era of low-cost computational forces, and proper parallelization of the test execution can lead to dramatical decreasing the build time.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Parallelization of the modules builds.</p>
<div class="ulist">
<ul>
<li>
<p>If you can build the modules which aren’t dependent on each other, then build them in parallel.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Don’t save on power machine.</p>
<div class="ulist">
<ul>
<li>
<p>The parallelization speaks clearly - the time is worth power machine. You can ask your manager if it’s better to invest some minor dollars on the machine or let the developers waiting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Extracting not so commonly touched parts into separate modules.</p>
<div class="ulist">
<ul>
<li>
<p>Getting rid of build time of static part of the software (and his tests) is an essence of having clean build of the software part which is developed at most.</p>
</li>
<li>
<p>Getting rid of preparation of the artifacts which are immediately thrown away.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Use pull request builds.</p>
<div class="ulist">
<ul>
<li>
<p>Not only it will bring you [read-only-master-link], but it gives you a chance to notice that the long build time will be much more emerging as a problem.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Revisit your tests suite.</p>
<div class="ulist">
<ul>
<li>
<p>Move anything from integration tests to unit tests if possible.</p>
</li>
<li>
<p>Avoid using @DirtiesContext if you are using Spring Framework.</p>
</li>
<li>
<p>Remove dead code and tests. Tests which are testing the dead code are just waste of time and energy of developers.</p>
</li>
<li>
<p>Improve the tests which take the biggest time.</p>
</li>
<li>
<p>Remove test duplication - what’s the value of the testing one thing in several places? Test it once.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get rid of long-running builds. Dot.</p>
</div>
<div class="paragraph">
<p><strong>P.S.</strong> If you enjoyed this post, give me a favor and share this post anywhere online, as well as you can follow me on <a href="https://twitter.com/mikealdo007">twitter</a> to stay in touch with my further articles, news from software development and other thoughts.</p>
</div>
<div class="paragraph">
<p><strong>P.S.2</strong> Cover image by <a href="https://unsplash.com/?photo=-hI5dX2ObAs">NASA | unsplash.com</a>.</p>
</div>
</div>
</div>
    </div>

    <div class="post related">

    </div>

    <footer class="post comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'mikealdo'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>

  </article>


        <footer>
          <span class="copyright">
            &copy; 2017. All rights reserved. Built with <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> under <a href="http://hubpress.io/" target="_blank">HubPress</a>.
          </span>
        </footer>
      </section>
    </main>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>
    <script src="//mikealdo.github.io/themes/uno-zen/assets/js/uno-zen.js?v=1.0.0" type="text/javascript" charset="utf-8"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-72815761-1', 'auto');
    ga('send', 'pageview');

    </script>
  </body>
</html>
