<!DOCTYPE html>
<html>
  <head>
    <title>Testing database changes using Liquibase in continous delivery</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    
    <link rel="apple-touch-icon" sizes="57x57" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="60x60" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="72x72" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="76x76" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="114x114" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="120x120" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="144x144" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="152x152" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="apple-touch-icon" sizes="180x180" href="//mikealdo.github.io/themes/uno-zen/assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-32x32.png?v=wAAv6Wqe6l?v=1.0.0" sizes="32x32">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-194x194.png?v=wAAv6Wqe6l?v=1.0.0" sizes="194x194">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-96x96.png?v=wAAv6Wqe6l?v=1.0.0" sizes="96x96">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l?v=1.0.0" sizes="192x192">
    <link rel="icon" type="image/png" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon-16x16.png?v=wAAv6Wqe6l?v=1.0.0" sizes="16x16">
    <link rel="manifest" href="//mikealdo.github.io/themes/uno-zen/assets/img/manifest.json?v=wAAv6Wqe6l?v=1.0.0">
    <link rel="shortcut icon" href="//mikealdo.github.io/themes/uno-zen/assets/img/favicon.ico?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="msapplication-TileColor" content="#e74c3c">
    <meta name="msapplication-TileImage" content="//mikealdo.github.io/themes/uno-zen/assets/img/mstile-144x144.png?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="msapplication-config" content="//mikealdo.github.io/themes/uno-zen/assets/img/browserconfig.xml?v=wAAv6Wqe6l?v=1.0.0">
    <meta name="theme-color" content="#e74c3c">
    <link rel="stylesheet" type="text/css" href="//mikealdo.github.io/themes/uno-zen/assets/css/uno-zen.css?v=1.0.0" />
    <link rel="canonical" href="https://mikealdo.github.io/2015/12/14/Testing-database-changes-using-Liquibase-in-continous-delivery.html" />
    
    <meta property="og:site_name" content="Michal Davídek - blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Testing database changes using Liquibase in continous delivery" />
    <meta property="og:description" content="Almost every application needs to cooperate with database. In these agile times is database layer changing in daily order as every other things. When you are trying to adopt continous delivery for delivering features to your customers earlier or later..." />
    <meta property="og:url" content="https://mikealdo.github.io/2015/12/14/Testing-database-changes-using-Liquibase-in-continous-delivery.html" />
    <meta property="og:image" content="https://mikealdo.github.io/images//covers/testing-database-changes-using-liquibase.png" />
    <meta property="article:published_time" content="2015-12-13T23:00:00.000Z" />
    <meta property="article:modified_time" content="2016-05-11T14:45:38.797Z" />
    <meta property="article:tag" content="architecture" />
    <meta property="article:tag" content="continuous delivery" />
    <meta property="article:tag" content="database" />
    <meta property="article:tag" content="liquibase" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Testing database changes using Liquibase in continous delivery" />
    <meta name="twitter:description" content="Almost every application needs to cooperate with database. In these agile times is database layer changing in daily order as every other things. When you are trying to adopt continous delivery for delivering features to your customers earlier or later..." />
    <meta name="twitter:url" content="https://mikealdo.github.io/2015/12/14/Testing-database-changes-using-Liquibase-in-continous-delivery.html" />
    <meta name="twitter:image:src" content="https://mikealdo.github.io/images//covers/testing-database-changes-using-liquibase.png" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Michal Davídek - blog",
    "author": {
        "@type": "Person",
        "name": "Michal Davídek",
        "image": "https://avatars.githubusercontent.com/u/14245058?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Testing database changes using Liquibase in continous delivery",
    "url": "https://mikealdo.github.io/2015/12/14/Testing-database-changes-using-Liquibase-in-continous-delivery.html",
    "datePublished": "2015-12-13T23:00:00.000Z",
    "dateModified": "2016-05-11T14:45:38.797Z",
    "image": "https://mikealdo.github.io/images//covers/testing-database-changes-using-liquibase.png",
    "keywords": "architecture,  continuous delivery,  database,  liquibase",
    "description": "Almost every application needs to cooperate with database. In these agile times is database layer changing in daily order as every other things. When you are trying to adopt continous delivery for delivering features to your customers earlier or later..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Michal Davídek - blog" href="https://mikealdo.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
  </head>
  <body class="post-template tag-architecture tag-continuous-delivery tag-database tag-liquibase">
    <header id="menu-button" class="expanded">
      <a><i class="icon icon-list"></i></a>
    </header>
    <aside class="cover" style="background: url(/images/background-cover.jpg) center/cover no-repeat fixed">
      <div class="cover container">
        <div class="profile">
          <a id="avatar-link" title="link to homepage for Michal Davídek - blog" href="https://mikealdo.github.io/#open">
            <img src="/images/michal-davidek.png" alt="Michal Davídek - blog avatar" class="profile avatar rounded hvr-buzz-out" />
            <h1 id="profile-title">Michal Davídek - blog</h1>
            <h3 id="profile-resume"></h3>
          </a>
    
          <hr class="divider long" />
          <p>Architecture, coding, open source.</p>
          <hr class="divider short" />
          <div class="navigation">
            <div class="profile contact">
              
              <nav class="navigation right">
                <ul class="social expanded">
              
              
                  <!-- Twitter -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://twitter.com/mikealdo007" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
                  <!-- Google Plus -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://plus.google.com/+MichalDavidekCZ" title="Google+ account">
                      <i class='icon icon-social-google-plus'></i>
                      <span class="label">Google-plus</span>
                    </a>
                  </li>
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://github.com/mikealdo" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
                  <!-- LinkedIn -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://www.linkedin.com/in/davidekmichal" title="LinkedIn account">
                      <i class='icon icon-social-linkedin'></i>
                      <span class="label">LinkedIn</span>
                    </a>
                  </li>
              
                  <!-- Email -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="mailto:mdavidek1@gmail.com" title="Email mdavidek1@gmail.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
                    <!-- RSS -->
                    <li class="social item hvr-grow-rotate">
                        <a href="/rss/" title="Subscribe to RSS">
                            <i class='icon icon-rss'></i>
                            <span class="label">RSS</span>
                        </a>
                    </li>
                </ul>
              </nav>
              <!-- <section class="icon icon-search" id="search-container">
      <hr class="divider short" />
      <form id="search-form">
        <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
      </form>
    </section>
     -->
            </div>
          </div>
        </div>
      </div>
    </aside>
    <main>
      <section id="search-results"></section>
      <section class="content">
        

  <article class="post tag-architecture tag-continuous-delivery tag-database tag-liquibase">
    <header>
      <div class="post meta">
        <time datetime="14 Dec 2015">14 Dec 2015</time>
        <span class="post tags">in <a href="https://mikealdo.github.io/tag/architecture">architecture</a> <a href="https://mikealdo.github.io/tag/continuous-delivery"> continuous delivery</a> <a href="https://mikealdo.github.io/tag/database"> database</a> <a href="https://mikealdo.github.io/tag/liquibase"> liquibase</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>
      <a alt="Tweet 'Testing database changes using Liquibase in continous delivery'" href="https://twitter.com/intent/tweet?text=Testing%20database%20changes%20using%20Liquibase%20in%20continous%20delivery%20%C2%BB&amp;hashtags=architecture, continuous delivery, database, liquibase&amp;url=https://mikealdo.github.io/2015/12/14/Testing-database-changes-using-Liquibase-in-continous-delivery.html">
        <img id="post-image" src=https://mikealdo.github.io/images//covers/testing-database-changes-using-liquibase.png alt="Testing database changes using Liquibase in continous delivery">
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Testing database changes using Liquibase in continous delivery</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-architecture tag-continuous-delivery tag-database tag-liquibase">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Almost every application needs to cooperate with database. In these agile times is database layer changing in daily order as every other things. When you are trying to adopt continous delivery for delivering features to your customers earlier or later you have to face with need to test change at database layer. And in best case you should be able to test your changes at several environments, localy and have this testing as first class citizen in your development process.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ways_are_different">Ways are different</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I was on several projects where increment of work on database layer were treated differently. Once it was through pure SQL files and custom framework which have been managing it. Once it was custom files with SQL statements with groovy scripts handling their applicating. Once it was custom XML and custom java framework for managing it. And at most times we were using <a href="http://www.liquibase.org">Liquibase</a> where is leveraging own format in XML files. And after all I have to admit that the best option which we currently have in java world is Liquibase. I am not saying that is impossible to develop own solution but why invent the wheel when we have this robust library. But of course it&#8217;s hard to leave own solution (when it&#8217;s used) and migrate to another one.</p>
</div>
<div class="sect2">
<h3 id="_own_solutions_has_had_these_disadvantages_which_i_was_experiencing">Own solutions has had these disadvantages which I was experiencing:</h3>
<div class="ulist">
<ul>
<li>
<p>Strongly tied to one database which was in use in that project.</p>
<div class="ulist">
<ul>
<li>
<p>Not such big issue because moving to another database is not so common after project is started.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In case of need to use some other feature of database it was need to improve framework.</p>
<div class="ulist">
<ul>
<li>
<p>Have your implementation support for procedures, “INSERT using SELECT” and any other thing?</p>
</li>
</ul>
</div>
</li>
<li>
<p>Knowledge around framework was lost in time when original author left project.</p>
</li>
<li>
<p>And very probably with very poor documentation and hidden implementation details.</p>
</li>
<li>
<p>Very hard to use it for local environment.</p>
</li>
<li>
<p>Missing documentation, project vocabulary and user manual.</p>
<div class="ulist">
<ul>
<li>
<p>Majority of important things stay in someone’s head.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Sometimes it was not clear when failure is caused by framework or by developer mistake.</p>
<div class="ulist">
<ul>
<li>
<p>Pretty hard to find out implementation drawbacks.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In 90% cases was missing rollback feature - crucial point.</p>
<div class="ulist">
<ul>
<li>
<p>And some built-in rollback features (e.g. for adding column) as well.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Missing (or it was needed to implement) runtime environment for running it through CI server or linux/win servers.</p>
<div class="ulist">
<ul>
<li>
<p>so in CI were running .sh scripts resides on some specific server, huh.</p>
</li>
</ul>
</div>
</li>
<li>
<p>No community, backlog of open issues and possibility to ask on the internet.</p>
<div class="ulist">
<ul>
<li>
<p>What we can say more &#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pretty big set of arguments, right? So to summarize, Liquibase provides answers and solutions for all mentioned points. Of course take some time to be familiar with special XML format for writing change scripts, some infrastructure work needed also. From my point the crucial point for which I can strongly recommend to use Liquibase is the rollback feature and runtime environment (maven/gradle).</p>
</div>
<div class="paragraph">
<p>I believe that <a href="https://en.wikipedia.org/wiki/Continuous_delivery">Continuous delivery</a> is way how to deliver software in these days. Delivering output of our effort immediately after it is developed to customer in highest quality possible and without fear that something will be broken should be our primary goal. Without fear in this context I mean that changes performed on production database will be performed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Database changes are tested in every environment where developed software is being deployed automatically.</p>
</li>
<li>
<p>Changes and rollback is tested on copy of production (can be obfuscated) database.</p>
</li>
<li>
<p>Before developed code is deployed to production.</p>
</li>
<li>
<p>If deployed artifact contains some “show stopper” issue(s) then it can be rolled back to last known good state.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conlusion">Conlusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you are planning to do real Continuous delivery you need to have your database changes under your control and need to have rollback functionality to provide “easy to return to last running software” feature. Liquibase is tool of choice for everybody who don’t want to spend time with developing own solution and have comprehensive tool for maintain database changes.</p>
</div>
<div class="paragraph">
<p><strong>P.S.</strong> If you enjoyed reading this blog post, could you do me favor and tweet it or/and leave a comment? Thanks!</p>
</div>
</div>
</div>
    </div>

    <div class="post related">

    </div>

    <footer class="post comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'mikealdo'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>

  </article>


        <footer>
          <span class="copyright">
            &copy; 2016. All rights reserved. Built with <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> under <a href="http://hubpress.io/" target="_blank">HubPress</a>.
          </span>
        </footer>
      </section>
    </main>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>
    <script src="//mikealdo.github.io/themes/uno-zen/assets/js/uno-zen.js?v=1.0.0" type="text/javascript" charset="utf-8"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-72815761-1', 'auto');
    ga('send', 'pageview');

    </script>
  </body>
</html>
